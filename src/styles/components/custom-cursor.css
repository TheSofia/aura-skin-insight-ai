/* DERMO.AGENT Custom Cellular Cursor System - Enhanced for Accurate Interactions */

/* Hide default cursor globally */
* {
  cursor: none !important;
}

/* Ensure all interactive elements are properly marked */
button, a, input, textarea, select, [role="button"], [data-interactive], 
.hover-target, .interactive, .enhanced-cta-button, .glass-button, 
.dermaagent-elegant-button, .dermaagent-button, .hover-enhance {
  cursor: none !important;
  pointer-events: auto !important;
  position: relative;
  /* Ensure minimum click area */
  min-height: 44px;
  min-width: 44px;
}

/* Enhanced click area for small interactive elements */
button:before, a:before, [data-interactive]:before, .hover-target:before {
  content: '';
  position: absolute;
  top: -8px;
  left: -8px;
  right: -8px;
  bottom: -8px;
  z-index: -1;
  pointer-events: auto;
}

/* Custom cellular cursor container */
.cellular-cursor {
  position: fixed;
  pointer-events: none;
  z-index: 99999;
  mix-blend-mode: normal;
  transition: none;
  will-change: transform;
  top: 0;
  left: 0;
}

/* Main cellular cursor element - optimized for precision */
.cellular-cursor-core {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: radial-gradient(circle at 35% 35%, 
    rgba(26, 26, 26, 0.15) 0%, 
    rgba(26, 26, 26, 0.08) 60%, 
    rgba(26, 26, 26, 0.03) 100%);
  border: 0.5px solid rgba(26, 26, 26, 0.12);
  position: relative;
  transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.15s ease-out,
              background 0.2s ease-out,
              border-color 0.2s ease-out;
  transform-origin: center;
  box-shadow: 0 1px 4px rgba(26, 26, 26, 0.06);
}

/* Subtle internal dot for precision */
.cellular-cursor-core::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 6px;
  height: 6px;
  background: radial-gradient(circle, 
    rgba(26, 26, 26, 0.2) 0%, 
    transparent 70%);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  opacity: 0.8;
  animation: cellular-gentle-pulse 3s infinite ease-in-out;
  transition: opacity 0.2s ease-out, transform 0.2s ease-out;
}

/* Outer ring for enhanced visibility */
.cellular-cursor-core::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 32px;
  height: 32px;
  border: 0.5px solid rgba(26, 26, 26, 0.06);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  opacity: 0.4;
  filter: blur(0.5px);
  animation: cellular-ring-float 4s infinite ease-in-out;
  transition: all 0.2s ease-out;
}

/* Enhanced hover state for interactive elements */
.cellular-cursor.hover .cellular-cursor-core {
  transform: scale(1.8);
  background: radial-gradient(circle at 35% 35%, 
    rgba(169, 50, 38, 0.3) 0%, 
    rgba(169, 50, 38, 0.18) 60%, 
    rgba(169, 50, 38, 0.08) 100%);
  border-color: rgba(169, 50, 38, 0.4);
  box-shadow: 0 2px 8px rgba(169, 50, 38, 0.2);
}

.cellular-cursor.hover .cellular-cursor-core::before {
  opacity: 1;
  animation-duration: 1.5s;
  transform: translate(-50%, -50%) scale(1.6);
  background: radial-gradient(circle, 
    rgba(169, 50, 38, 0.5) 0%, 
    transparent 70%);
}

.cellular-cursor.hover .cellular-cursor-core::after {
  opacity: 0.7;
  transform: translate(-50%, -50%) scale(1.6);
  border-color: rgba(169, 50, 38, 0.3);
  filter: blur(0.3px);
}

/* Click/active state with precise feedback */
.cellular-cursor.active .cellular-cursor-core {
  transform: scale(0.6);
  background: radial-gradient(circle at 35% 35%, 
    rgba(169, 50, 38, 0.5) 0%, 
    rgba(169, 50, 38, 0.3) 60%, 
    rgba(169, 50, 38, 0.15) 100%);
  transition: transform 0.1s ease-out;
}

/* Enhanced click ripple animation */
.cellular-cursor-ripple {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(169, 50, 38, 0.2);
  transform: translate(-50%, -50%);
  animation: cursor-ripple-precise 0.4s ease-out forwards;
  pointer-events: none;
  border: 1px solid rgba(169, 50, 38, 0.15);
}

/* Text cursor state for text inputs */
.cellular-cursor.text .cellular-cursor-core {
  width: 1.5px;
  height: 20px;
  border-radius: 1px;
  background: rgba(26, 26, 26, 0.9);
  border: none;
  box-shadow: 0 1px 2px rgba(26, 26, 26, 0.15);
  animation: text-cursor-blink 1s infinite ease-in-out;
}

.cellular-cursor.text .cellular-cursor-core::before,
.cellular-cursor.text .cellular-cursor-core::after {
  display: none;
}

/* Optimized cursor animations */
@keyframes cellular-gentle-pulse {
  0%, 100% { 
    opacity: 0.8; 
    transform: translate(-50%, -50%) scale(1); 
  }
  50% { 
    opacity: 1; 
    transform: translate(-50%, -50%) scale(1.1); 
  }
}

@keyframes cellular-ring-float {
  0%, 100% { 
    transform: translate(-50%, -50%) scale(1) rotate(0deg); 
    opacity: 0.4; 
  }
  50% { 
    transform: translate(-50%, -50%) scale(1.05) rotate(180deg); 
    opacity: 0.6; 
  }
}

@keyframes cursor-ripple-precise {
  0% {
    width: 0;
    height: 0;
    opacity: 0.8;
  }
  50% {
    opacity: 0.4;
  }
  100% {
    width: 60px;
    height: 60px;
    opacity: 0;
  }
}

@keyframes text-cursor-blink {
  0%, 50% { 
    opacity: 1; 
  }
  51%, 100% { 
    opacity: 0.2; 
  }
}

/* Hide cursor on touch devices */
@media (hover: none) and (pointer: coarse) {
  .cellular-cursor {
    display: none !important;
  }
  
  * {
    cursor: auto !important;
  }
  
  button, a, input, textarea, select, [role="button"], [data-interactive] {
    cursor: pointer !important;
  }
}

/* Ensure proper layering */
.cellular-cursor {
  z-index: 999999;
}

/* Debug mode - uncomment to visualize hit areas */
/*
button, a, [data-interactive], .hover-target {
  outline: 1px solid rgba(255, 0, 0, 0.3) !important;
}
*/
